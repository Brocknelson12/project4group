package tryCodes;



import java.awt.BorderLayout;
import java.awt.GridBagConstraints;
import java.awt.GridBagLayout;
import java.awt.GridLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.util.ArrayList;

import javax.swing.ButtonGroup;
import javax.swing.JButton;
import javax.swing.JFileChooser;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JList;
import javax.swing.JMenu;
import javax.swing.JMenuBar;
import javax.swing.JMenuItem;
import javax.swing.JPanel;
import javax.swing.JRadioButton;
import javax.swing.JScrollBar;
import javax.swing.JScrollPane;
import javax.swing.JTextArea;
import javax.swing.JTextField;
import javax.swing.filechooser.FileNameExtensionFilter;

public class InputWindowsView extends JFrame{
	public String selectCommand;
	//selection
	public JRadioButton mediaButton = new JRadioButton("Media");
	public JRadioButton movieButton = new JRadioButton("Movie");
	public JRadioButton seriesButton = new JRadioButton("Series");
	public JRadioButton episodeButton = new JRadioButton("Episode");
	public JRadioButton makersButton = new JRadioButton("Makers");
	public JRadioButton actorsButton = new JRadioButton("Actors");
	public JRadioButton directorsButton = new JRadioButton("Directors");
	public JRadioButton producersButton = new JRadioButton("Producers");
	public ArrayList<JRadioButton> buttonList = new ArrayList<JRadioButton>();
	
	public ButtonGroup buttons = new ButtonGroup();
	
	//file chooser
	public JFileChooser filesChooser = new JFileChooser();
	
	//ouputArea
	public JLabel outputLabel = new JLabel("Output Title");
	public JTextArea outputArea = new JTextArea(20, 50);
	
	
	//File Menu
	public JMenu fileMenu = new JMenu("File");
	public JMenuItem load = new JMenuItem("Load");
	public JMenuItem save = new JMenuItem("Save");
	public JMenuItem importItem = new JMenuItem("Import");
	public JMenuItem export = new JMenuItem("Export");
	
	//Edit Menu
	public JMenu editMenu = new JMenu("Edit");
	public JMenuItem add = new JMenuItem("Add");
	public JMenuItem edit = new JMenuItem("Edit");
	public JMenuItem delete = new JMenuItem("Delete");
	public JMenuItem clear = new JMenuItem("Clear");
	public JMenuItem clearAll = new JMenuItem("Clear All");
	
	//Display Menu
	public JMenu displayMenu = new JMenu("Display");
	public JMenuItem pieChart = new JMenuItem("Pie Chart");
	public JMenuItem histogram = new JMenuItem("Histogram");
	public JMenuBar menuBar = new JMenuBar();
	
	//Enter View Compoenents
	public JTextField titleField = new JTextField();
	public JTextField titleEpisodeField = new JTextField();
	public JTextField startYearField = new JTextField();
	public JTextField endYearField = new JTextField();
	public JTextField ronNumField = new JTextField();
	public JTextField episodeNumField = new JTextField();
	public JTextField venueField = new JTextField();
	
	public JButton addMovieButton = new JButton("ADD");
	public JButton addSeriesButton = new JButton("ADD");
	public JButton addEpisodeButton = new JButton("ADD");
	
	public JButton addActorButton = new JButton("ADD");
	
	public JButton noButton = new JButton("CANCEL");
	public JFrame frame;
	
	public InputWindowsView(){
		setTitle("MDb");
		setLayout(new BorderLayout());
		noButton.addActionListener(new CancelListener());
		addSeletActionListener(new SelectListener());
		
		
		load.setToolTipText("Read files which in using object I/O. ");
		fileMenu.add(load);
		
		save.setToolTipText("Output data files using object I/O.");
		save.setEnabled(false);
		fileMenu.add(save);
	
		importItem.setToolTipText("Read data from text files.(It will be active after select radio button)");
		importItem.addActionListener(new SaveFilesListener());
		importItem.setEnabled(false);
		fileMenu.add(importItem);
		
		export.setEnabled(false);
		export.setToolTipText("Export data as text files.");
		fileMenu.add(export);
		menuBar.add(fileMenu);
		
		add.setToolTipText("It will active when you select which types of data you want to add.");
		add.setEnabled(false);
		add.addActionListener(new AddDataListener());
		editMenu.add(add);
		
		
		editMenu.add(edit);
		editMenu.add(delete);
		editMenu.add(clear);
		editMenu.add(clearAll);
		menuBar.add(editMenu);
		
		menuBar.add(displayMenu);
		displayMenu.add(pieChart);
		displayMenu.add(histogram);
		add(menuBar, BorderLayout.PAGE_START);
		
		JPanel jplButtons = new JPanel(new GridLayout(9, 0, 5, 30));
		JLabel seletLabel = new JLabel("    Seletion");
		jplButtons.add(seletLabel);
		
		mediaButton.setToolTipText("Cannot be import or add");
		makersButton.setToolTipText("Cannot be import or add");
		
		mediaButton.setActionCommand("Media");
		movieButton.setActionCommand("Movie");
		seriesButton.setActionCommand("Series");
		episodeButton.setActionCommand("Episode");
		makersButton.setActionCommand("Makers");
		actorsButton.setActionCommand("Actors");
		directorsButton.setActionCommand("Directors");
		producersButton.setActionCommand("Producers");
		
		buttonList.add(mediaButton);
		buttonList.add(movieButton);
		buttonList.add(seriesButton);
		buttonList.add(episodeButton);
		buttonList.add(makersButton);
		buttonList.add(actorsButton);
		buttonList.add(directorsButton);
		buttonList.add(producersButton);
		
		
		jplButtons.add(mediaButton);
		jplButtons.add(movieButton);
		jplButtons.add(seriesButton);
		jplButtons.add(episodeButton);
		jplButtons.add(makersButton);
		jplButtons.add(actorsButton);
		jplButtons.add(directorsButton);
		jplButtons.add(producersButton);
		
		JScrollPane buttonScroll = new JScrollPane(jplButtons);
		add(buttonScroll, BorderLayout.LINE_START);
		
		JPanel jplOutput = new JPanel(new GridBagLayout());
		GridBagConstraints layoutConst = new GridBagConstraints();
		layoutConst.gridx = 0;
		layoutConst.gridy = 0;
		layoutConst.anchor = GridBagConstraints.CENTER;
		
		jplOutput.add(outputLabel, layoutConst);
		
		
		JScrollPane outputScroll = new JScrollPane(outputArea);
		layoutConst = new GridBagConstraints();
		layoutConst.gridx = 0;
		layoutConst.gridy = 1;
		layoutConst.fill = GridBagConstraints.BOTH;
		layoutConst.weightx = 1.0;
		layoutConst.weighty = 1.0;
		layoutConst.anchor = GridBagConstraints.CENTER;
		jplOutput.add(outputScroll, layoutConst);
		add(jplOutput, BorderLayout.CENTER);
		
		setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
		setVisible(true);
		pack();
	}
	
	
	
	
	private class SaveFilesListener implements ActionListener{
		@Override
		public void actionPerformed(ActionEvent e){
			//TODO Ouput Object I/O files
		}
	}
	
	private class CancelListener implements ActionListener{
		@Override
		public void actionPerformed(ActionEvent e){
			frame.dispose();		
			}
	}
	
	private class AddDataListener implements ActionListener{
		@Override
		public void actionPerformed(ActionEvent e){
			JLabel label0;
			JLabel label1;
			JLabel label2;
			JLabel label3;
			JLabel label4;

			if(movieButton.isSelected()){
				frame = new JFrame("Add movie");
				
				JPanel jplEnter = new JPanel(new GridLayout(5, 0, 5, 10));
				label0 = new JLabel("Title: ", JLabel.RIGHT);
				titleField = new JTextField(20);
				jplEnter.add(label0);
				jplEnter.add(titleField);
				
				label1 = new JLabel("Year: ", JLabel.RIGHT);
				startYearField = new JTextField(20);
				jplEnter.add(label1);
				jplEnter.add(startYearField);
				
				label2 = new JLabel("venue: ", JLabel.RIGHT);
				venueField = new JTextField(20);
				jplEnter.add(label2);
				jplEnter.add(venueField);
				
				label3 = new JLabel("Roman Number: ", JLabel.RIGHT);
				ronNumField = new JTextField(20);
				jplEnter.add(label3);
				jplEnter.add(ronNumField);
				
				jplEnter.add(addMovieButton);
				jplEnter.add(noButton);
				frame.add(jplEnter);
				frame.setResizable(false);
				frame.setVisible(true);
				frame.pack();
			}
			else if(seriesButton.isSelected()){
				frame = new JFrame("Add Series");
				label0 = new JLabel("Series Title: ", JLabel.RIGHT);
				label1 = new JLabel("Start Year: ", JLabel.RIGHT);
				label2 = new JLabel("End Year: ", JLabel.RIGHT);
				
				JPanel jplEnter = new JPanel(new GridLayout(4, 0, 5, 10));
				titleField = new JTextField(20);
				jplEnter.add(label0);
				jplEnter.add(titleField);
				
				startYearField = new JTextField(20);
				jplEnter.add(label1);
				jplEnter.add(startYearField);
				
				endYearField = new JTextField(20);
				jplEnter.add(label2);
				jplEnter.add(endYearField);
				
				jplEnter.add(addSeriesButton);
				jplEnter.add(noButton);
				
				frame.add(jplEnter);
				frame.setVisible(true);
				frame.setResizable(false);
				frame.pack();
				
			}
			else if(episodeButton.isSelected()){
				frame = new JFrame("Add Episode");
				
				JPanel jplEnter = new JPanel(new GridLayout(6, 0, 5, 10));
				label0 = new JLabel("Series Title: ", JLabel.RIGHT);
				titleField = new JTextField(20);
				jplEnter.add(label0);
				jplEnter.add(titleField);
				
				label1 = new JLabel("Episode Title: ", JLabel.RIGHT);
				titleField = new JTextField(20);
				jplEnter.add(label1);
				jplEnter.add(titleEpisodeField);
				
				label2 = new JLabel("Start Year: ", JLabel.RIGHT);
				startYearField = new JTextField(20);
				jplEnter.add(label2);
				jplEnter.add(startYearField);
				
				label3 = new JLabel("End Year: ", JLabel.RIGHT);
				endYearField = new JTextField(20);
				jplEnter.add(label3);
				jplEnter.add(endYearField);
				
				label4 = new JLabel("Episode Number: ", JLabel.RIGHT);
				episodeNumField = new JTextField(20);
				jplEnter.add(label4);
				jplEnter.add(episodeNumField);
				
				jplEnter.add(addEpisodeButton);
				jplEnter.add(noButton);
				frame.add(jplEnter);
				frame.setResizable(false);
				frame.setVisible(true);
				frame.pack();
			}
			
		}
	}
	
	
	private class SelectListener implements ActionListener{
		@Override
		public void actionPerformed(ActionEvent event) {
			String title = "";
			int i = 0;
			for(JRadioButton b : buttonList){
				if(b.isSelected()){
					title = title + b.getActionCommand() + ", ";
					i++;
				}
			}
			if(title.contains(",")) title = title.substring(0, title.length() - 2);
			if(i == 0) title = "Output Titile";
			outputLabel.setText(title);
			
			
			if((!mediaButton.isSelected() && !makersButton.isSelected()) && i > 0){
				add.setEnabled(true);
				importItem.setEnabled(true);
			}
			else{
				add.setEnabled(false);
				importItem.setEnabled(false);
			}
		}
	}
	
	public void addSeletActionListener(ActionListener e){
		mediaButton.addActionListener(e);
		movieButton.addActionListener(e);
		seriesButton.addActionListener(e);
		episodeButton.addActionListener(e);
		makersButton.addActionListener(e);
		actorsButton.addActionListener(e);
		directorsButton.addActionListener(e);
		producersButton.addActionListener(e);
	}
	
	public void addMovieActionListener(ActionListener e){
		addMovieButton.addActionListener(e);
	}
	
	public void addSeriesActionListener(ActionListener e){
		addSeriesButton.addActionListener(e);
	}
	
	public void addEpisodeActionListener(ActionListener e){
		addEpisodeButton.addActionListener(e);
	}
	
	public void addLoadFilesActionListener(ActionListener e){
		load.addActionListener(e);
	}
	
	public void addSaveActionListener(ActionListener e){
		save.addActionListener(e);
	}
	
	public void addImportActionListener(ActionListener e){
		importItem.addActionListener(e);
	}
	
	public void addExportActionListener(ActionListener e){
		export.addActionListener(e);
	}
	
	
	public void addEditActionListener(ActionListener e){
		edit.addActionListener(e);
	}
	
	public void addDeleteActionListener(ActionListener e){
		delete.addActionListener(e);
	}
	
	public void addClearActionListener(ActionListener e){
		clear.addActionListener(e);
	}
	
	public void addClearAllActionListener(ActionListener e){
		clearAll.addActionListener(e);
	}
	
	public void addPieChartActionListener(ActionListener e){
		pieChart.addActionListener(e);
	}
	
	public void addhistogramActionListener(ActionListener e){
		histogram.addActionListener(e);
	}
}
