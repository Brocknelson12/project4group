package tryCodes;



import java.awt.BorderLayout;
import java.awt.GridBagConstraints;
import java.awt.GridBagLayout;
import java.awt.GridLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.util.ArrayList;

import javax.swing.ButtonGroup;
import javax.swing.JButton;
import javax.swing.JFileChooser;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JList;
import javax.swing.JMenu;
import javax.swing.JMenuBar;
import javax.swing.JMenuItem;
import javax.swing.JPanel;
import javax.swing.JRadioButton;
import javax.swing.JScrollBar;
import javax.swing.JScrollPane;
import javax.swing.JTextArea;
import javax.swing.JTextField;
import javax.swing.filechooser.FileNameExtensionFilter;

public class InputWindowsView extends JFrame{
	public String selectCommand;
	//selection
	public JRadioButton mediaButton = new JRadioButton("Media");
	public JRadioButton movieButton = new JRadioButton("Movie");
	public JRadioButton seriesButton = new JRadioButton("Series");
	public JRadioButton episodeButton = new JRadioButton("Episode");
	public JRadioButton makersButton = new JRadioButton("Makers");
	public JRadioButton actorsButton = new JRadioButton("Actors");
	public JRadioButton directorsButton = new JRadioButton("Directors");
	public JRadioButton producersButton = new JRadioButton("Producers");
	public ArrayList<JRadioButton> buttonList = new ArrayList<JRadioButton>();
	
	public ButtonGroup buttons = new ButtonGroup();
	
	//file chooser
	public JFileChooser filesChooser = new JFileChooser();
	
	//ouputArea
	public JLabel outputLabel = new JLabel("Output Title");
	public JTextArea outputArea = new JTextArea(20, 50);
	
	
	//File Menu
	public JMenu fileMenu = new JMenu("File");
	public JMenuItem load = new JMenuItem("Load");
	public JMenuItem save = new JMenuItem("Save");
	public JMenuItem importItem = new JMenuItem("Import");
	public JMenuItem export = new JMenuItem("Export");
	
	//Edit Menu
	public JMenu editMenu = new JMenu("Edit");
	public JMenuItem add = new JMenuItem("Add");
	public JMenuItem edit = new JMenuItem("Edit");
	public JMenuItem delete = new JMenuItem("Delete");
	public JMenuItem clear = new JMenuItem("Clear");
	public JMenuItem clearAll = new JMenuItem("Clear All");
	
	//Display Menu
	public JMenu displayMenu = new JMenu("Display");
	public JMenuItem pieChart = new JMenuItem("Pie Chart");
	public JMenuItem histogram = new JMenuItem("Histogram");
	public JMenuBar menuBar = new JMenuBar();
	
	//list of frame
	ArrayList<JFrame> frameList = new ArrayList<JFrame>(); 
	
	//Enter movie View Compoenents
	public JTextField movieTitleField;
	public JTextField movieYearField;
	public JTextField ronNumField;
	public JTextField venueField;
	public JButton addMovieButton = new JButton("ADD");
	
	//Enter Series view compoenets
	public JTextField seriesTitleField;
	public JTextField seriesStartYearField;
	public JTextField seriesEndYearField;
	public JButton addSeriesButton = new JButton("ADD");
	
	
	//Enter Episode view compoenets
	public JTextField episodeSeriesTitleField;
	public JTextField episodeStartYearField;
	public JTextField episodeEndYearField;
	public JTextField episodeTitleField;
	public JTextField episodeNumField;
	public JButton addEpisodeButton = new JButton("ADD");
	
	public JFrame frame = new JFrame();
	
	public InputWindowsView(){
		JFrame movieFrame = new JFrame();
		JFrame seriesFrame = new JFrame();
		JFrame episodeFrame = new JFrame();
		
		addMovieFrame(movieFrame);
		addSeriesFrame(seriesFrame);
		addEpisodeFrame(episodeFrame);
		
		setTitle("MDb");
		setLayout(new BorderLayout());
		addSeletActionListener(new SelectListener());
		
		
		load.setToolTipText("Read files which in using object I/O. ");
		fileMenu.add(load);
		
		save.setToolTipText("Output data files using object I/O.");
		save.setEnabled(false);
		fileMenu.add(save);
	
		importItem.setToolTipText("Read data from text files.(It will be active after select radio button)");
		importItem.addActionListener(new SaveFilesListener());
		importItem.setEnabled(false);
		fileMenu.add(importItem);
		
		export.setEnabled(false);
		export.setToolTipText("Export data as text files.");
		fileMenu.add(export);
		menuBar.add(fileMenu);
		
		add.setToolTipText("It will active when you select which types of data you want to add.");
		add.setEnabled(false);
		add.addActionListener(new AddDataListener());
		editMenu.add(add);
		
		edit.setEnabled(false);
		edit.setToolTipText("Edit the exist data, it will be inative onece data loaded, imported or add.");
		
		delete.setEnabled(false);
		delete.setToolTipText("Delet the exist related object and data from system, "
				+ "it will be inative onece data loaded, imported or added.");
		
		clear.setEnabled(false);
		clear.setToolTipText("Clean the exist related objects from system,"
				+ " it will be inative onece data loaded, imported or added.");
		
		clearAll.setToolTipText("Clean all the exist objects. "
				+ "it will be inative onece data loaded, imported or added.");
		clearAll.setEnabled(false);
		
		
		editMenu.add(edit);
		editMenu.add(delete);
		editMenu.add(clear);
		editMenu.add(clearAll);
		menuBar.add(editMenu);
		
		menuBar.add(displayMenu);
		displayMenu.add(pieChart);
		displayMenu.add(histogram);
		add(menuBar, BorderLayout.PAGE_START);
		
		JPanel jplButtons = new JPanel(new GridLayout(9, 0, 5, 30));
		JLabel seletLabel = new JLabel("    Seletion");
		jplButtons.add(seletLabel);
		
		mediaButton.setToolTipText("Cannot be import or add");
		makersButton.setToolTipText("Cannot be import or add");
		
		mediaButton.setActionCommand("Media");
		movieButton.setActionCommand("Movie");
		seriesButton.setActionCommand("Series");
		episodeButton.setActionCommand("Episode");
		makersButton.setActionCommand("Makers");
		actorsButton.setActionCommand("Actors");
		directorsButton.setActionCommand("Directors");
		producersButton.setActionCommand("Producers");
		
		buttonList.add(mediaButton);
		buttonList.add(movieButton);
		buttonList.add(seriesButton);
		buttonList.add(episodeButton);
		buttonList.add(makersButton);
		buttonList.add(actorsButton);
		buttonList.add(directorsButton);
		buttonList.add(producersButton);
		
		
		jplButtons.add(mediaButton);
		jplButtons.add(movieButton);
		jplButtons.add(seriesButton);
		jplButtons.add(episodeButton);
		jplButtons.add(makersButton);
		jplButtons.add(actorsButton);
		jplButtons.add(directorsButton);
		jplButtons.add(producersButton);
		
		JScrollPane buttonScroll = new JScrollPane(jplButtons);
		add(buttonScroll, BorderLayout.LINE_START);
		
		JPanel jplOutput = new JPanel(new GridBagLayout());
		GridBagConstraints layoutConst = new GridBagConstraints();
		layoutConst.gridx = 0;
		layoutConst.gridy = 0;
		layoutConst.anchor = GridBagConstraints.CENTER;
		
		jplOutput.add(outputLabel, layoutConst);
		
		
		JScrollPane outputScroll = new JScrollPane(outputArea);
		layoutConst = new GridBagConstraints();
		layoutConst.gridx = 0;
		layoutConst.gridy = 1;
		layoutConst.fill = GridBagConstraints.BOTH;
		layoutConst.weightx = 1.0;
		layoutConst.weighty = 1.0;
		layoutConst.anchor = GridBagConstraints.CENTER;
		jplOutput.add(outputScroll, layoutConst);
		add(jplOutput, BorderLayout.CENTER);
		
		setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
		setVisible(true);
		pack();
	}
	
	
	
	
	private class SaveFilesListener implements ActionListener{
		@Override
		public void actionPerformed(ActionEvent e){
			//TODO Ouput Object I/O files
		}
	}
	
	private class CancelListener implements ActionListener{
		@Override
		public void actionPerformed(ActionEvent e){
			
			frame.dispose();		
			}
	}
	
	private class AddDataListener implements ActionListener{
		@Override
		public void actionPerformed(ActionEvent e){
			int i = 0;
			for(JRadioButton b : buttonList){
				if(b.isSelected()){
					frameList.get(i - 1).setVisible(true);
				}
				i++;
			}

		}
	}
	
	
	private class SelectListener implements ActionListener{
		@Override
		public void actionPerformed(ActionEvent event) {
			String title = "";
			int i = 0;
			for(JRadioButton b : buttonList){
				if(b.isSelected()){
					title = title + b.getActionCommand() + ", ";
					i++;
				}
			}
			if(title.contains(",")) title = title.substring(0, title.length() - 2);
			if(i == 0) title = "Output Titile";
			outputLabel.setText(title);
			
			
			if((!mediaButton.isSelected() && !makersButton.isSelected()) && i > 0){
				add.setEnabled(true);
				importItem.setEnabled(true);
			}
			else{
				add.setEnabled(false);
				importItem.setEnabled(false);
			}
		}
	}
	
	public void addSeletActionListener(ActionListener e){
		mediaButton.addActionListener(e);
		movieButton.addActionListener(e);
		seriesButton.addActionListener(e);
		episodeButton.addActionListener(e);
		makersButton.addActionListener(e);
		actorsButton.addActionListener(e);
		directorsButton.addActionListener(e);
		producersButton.addActionListener(e);
	}
	
	public void addMovieActionListener(ActionListener e){
		addMovieButton.addActionListener(e);
	}
	
	public void addSeriesActionListener(ActionListener e){
		addSeriesButton.addActionListener(e);
	}
	
	public void addEpisodeActionListener(ActionListener e){
		addEpisodeButton.addActionListener(e);
	}
	
	public void addLoadFilesActionListener(ActionListener e){
		load.addActionListener(e);
	}
	
	public void addSaveActionListener(ActionListener e){
		save.addActionListener(e);
	}
	
	public void addImportActionListener(ActionListener e){
		importItem.addActionListener(e);
	}
	
	public void addExportActionListener(ActionListener e){
		export.addActionListener(e);
	}
	
	
	public void addEditActionListener(ActionListener e){
		edit.addActionListener(e);
	}
	
	public void addDeleteActionListener(ActionListener e){
		delete.addActionListener(e);
	}
	
	public void addClearActionListener(ActionListener e){
		clear.addActionListener(e);
	}
	
	public void addClearAllActionListener(ActionListener e){
		clearAll.addActionListener(e);
	}
	
	public void addPieChartActionListener(ActionListener e){
		pieChart.addActionListener(e);
	}
	
	public void addhistogramActionListener(ActionListener e){
		histogram.addActionListener(e);
	}
	
	
	public void addMovieFrame(JFrame frame){
		frame = new JFrame("Add movie");
		JButton noButton = new JButton("CANCEL");
		noButton.addActionListener(new CancelListener());
		
		JPanel jplEnter = new JPanel(new GridLayout(5, 0, 5, 10));
		JLabel titleLabel = new JLabel("Title: ", JLabel.RIGHT);
		movieTitleField = new JTextField(20);
		jplEnter.add(titleLabel);
		jplEnter.add(movieTitleField);
		
		JLabel yearLabel = new JLabel("Year: ", JLabel.RIGHT);
		movieYearField = new JTextField(20);
		jplEnter.add(yearLabel);
		jplEnter.add(movieYearField);
		
		JLabel venueLabel = new JLabel("venue: ", JLabel.RIGHT);
		venueField = new JTextField(20);
		jplEnter.add(venueLabel);
		jplEnter.add(venueField);
		
		JLabel ronManlabel = new JLabel("Roman Number: ", JLabel.RIGHT);
		ronNumField = new JTextField(20);
		jplEnter.add(ronManlabel);
		jplEnter.add(ronNumField);
		
		jplEnter.add(addMovieButton);
		jplEnter.add(noButton);
		frame.add(jplEnter);
		frame.setResizable(false);
		frame.pack();
		
		frameList.add(frame);
	}
	
	public void addSeriesFrame (JFrame frame){
		JButton noButton = new JButton("CANCEL");
		noButton.addActionListener(new CancelListener());
		
		frame = new JFrame("Add Series");
		JLabel titleLabel = new JLabel("Series Title: ", JLabel.RIGHT);
		JLabel startYearLabel = new JLabel("Start Year: ", JLabel.RIGHT);
		JLabel endYearLabel = new JLabel("End Year: ", JLabel.RIGHT);
		
		JPanel jplEnter = new JPanel(new GridLayout(4, 0, 5, 10));
		seriesTitleField = new JTextField(20);
		jplEnter.add(titleLabel);
		jplEnter.add(seriesTitleField);
		
		seriesStartYearField = new JTextField(20);
		jplEnter.add(startYearLabel);
		jplEnter.add(seriesStartYearField);
		
		seriesEndYearField = new JTextField(20);
		jplEnter.add(endYearLabel);
		jplEnter.add(seriesEndYearField);
		
		jplEnter.add(addSeriesButton);
		jplEnter.add(noButton);
		
		frame.add(jplEnter);
		frame.setResizable(false);
		frame.pack();
		frameList.add(frame);
	}
	
	public void addEpisodeFrame(JFrame frame){
		JButton noButton = new JButton("CANCEL");
		noButton.addActionListener(new CancelListener());

		frame = new JFrame("Add Episode");
		
		JPanel jplEnter = new JPanel(new GridLayout(6, 0, 5, 10));
		JLabel seriesTitleLabel = new JLabel("Series Title: ", JLabel.RIGHT);
		episodeSeriesTitleField = new JTextField(20);
		jplEnter.add(seriesTitleLabel);
		jplEnter.add(episodeSeriesTitleField);
		
		JLabel episodeTitleabel = new JLabel("Episode Title: ", JLabel.RIGHT);
		episodeTitleField = new JTextField(20);
		jplEnter.add(episodeTitleabel);
		jplEnter.add(episodeTitleField);
		
		JLabel startYearLabel = new JLabel("Start Year: ", JLabel.RIGHT);
		episodeStartYearField = new JTextField(20);
		jplEnter.add(startYearLabel);
		jplEnter.add(episodeStartYearField);
		
		JLabel endYearLabel = new JLabel("End Year: ", JLabel.RIGHT);
		episodeEndYearField = new JTextField(20);
		jplEnter.add(endYearLabel);
		jplEnter.add(episodeEndYearField);
		
		JLabel episodeLabel = new JLabel("Episode Number: ", JLabel.RIGHT);
		episodeNumField = new JTextField(20);
		jplEnter.add(episodeLabel);
		jplEnter.add(episodeNumField);
		
		jplEnter.add(addEpisodeButton);
		jplEnter.add(noButton);
		frame.add(jplEnter);
		frame.setResizable(true);
		frame.pack();
		frameList.add(frame);
	}
}
